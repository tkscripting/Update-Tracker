<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Update Tracker</title>
  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css" />
  <!-- Custom Styles -->
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

  <!-- INLINE LOGIN -->
  <div id="authSection">
    <form id="loginForm">
      <input type="email" id="email" placeholder="Email" required />
      <input type="password" id="password" placeholder="Password" required />
      <button type="submit" id="loginBtn">Sign In</button>
    </form>
    <div id="welcomeContainer" style="display:none; align-items: center;">
      <span id="welcomeMessage" style="margin-right: 10px; font-size: 16px;"></span>
      <button type="button" id="logoutBtn">Sign Out</button>
    </div>
  </div>

  <!-- Centered Search & Add Entry -->
  <div id="tableControls">
    <input type="search" id="tableSearch" placeholder="Searchâ€¦" />
    <button id="addEntryBtn" class="requires-auth" title="Add Entry">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M20 11.08V8l-6-6H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h6"/>
        <path d="M14 3v5h5M18 21v-6M15 18h6"/>
      </svg>
    </button>
  </div>

  <!-- DATA TABLE -->
  <table id="dataTable" class="display" style="width:100%;">
    <thead>
      <tr>
        <th style="display:none">Pinned</th>
        <th>Date</th>
        <th>Topic</th>
        <th>Description</th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Modal for Add/Edit -->
  <div id="modalOverlay">
    <div id="modal">
      <h3 id="modalTitle">Add Entry</h3>
      <input type="date" id="modalDate" required />
      <input list="categories" id="modalCategory" placeholder="Topic" required />
      <datalist id="categories"></datalist>
      
      <input list="subtopics" id="modalSubtopic" placeholder="Subtopic" />
      <datalist id="subtopics"></datalist>
      
      <textarea id="modalDescription" placeholder="Description" required></textarea>
      <input type="url" id="modalLink" placeholder="Link" />
      <input type="color" id="modalColor" required value="#ffffff" />
      <button id="modalSubmit">Submit</button>
      <button id="modalCancel">Cancel</button>
    </div>
  </div>

  <!-- jQuery, DataTables, Firebase Compat -->
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <!-- Application Script -->
  <script src="js/app.js"></script>
</body>
</html>